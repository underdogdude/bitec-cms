<?php 
    // เช็คว่าฟิลด์ถูกเรียกใน context ของ Block หรือไม่
    $footer_social = get_field('social');
    $option_social = get_field('social', 'option');

    // ใช้ block ถ้ามีค่า, ถ้าไม่มีค่อย fallback ไป option
    $social_links = !empty($footer_social) ? $footer_social : $option_social;
?>
<?php if($social_links): ?>
<div class="widget-social">
<?php  
    if(!empty($social_links)) {
        foreach($social_links as $row){
            switch ($row['social_name']) {
                case "facebook":
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link' >";
                    echo '<div>';
                    echo '<svg width="22" height="23" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M11 0.834473C4.92492 0.834473 0 5.75939 0 11.8345C0 16.993 3.55168 21.3218 8.34284 22.5106V15.1961H6.07464V11.8345H8.34284V10.386C8.34284 6.64203 10.0373 4.90667 13.713 4.90667C14.41 4.90667 15.6125 5.04351 16.1044 5.17991V8.22691C15.8448 8.19963 15.3938 8.18599 14.8337 8.18599C13.0302 8.18599 12.3332 8.86931 12.3332 10.6456V11.8345H15.9262L15.3089 15.1961H12.3332V22.754C17.78 22.0962 22.0004 17.4586 22.0004 11.8345C22 5.75939 17.0751 0.834473 11 0.834473Z" fill="currentColor"/> </svg>';
                    echo '</div>';
                    break; 
                case "twitter":
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link'>";
                    echo '<div>';
                    echo seed_icon('s-twitter');
                    echo '</div>';
                    break;

                case "x":
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link' >";
                    echo '<div>';
                    echo '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter-x" viewBox="0 0 16 16"> <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/> </svg>';
                    echo '</div>';
                    break;
                case "threads":
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link' >";
                    echo '<div>';
                    echo '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-threads" viewBox="0 0 16 16"> <path d="M6.321 6.016c-.27-.18-1.166-.802-1.166-.802.756-1.081 1.753-1.502 3.132-1.502.975 0 1.803.327 2.394.948s.928 1.509 1.005 2.644q.492.207.905.484c1.109.745 1.719 1.86 1.719 3.137 0 2.716-2.226 5.075-6.256 5.075C4.594 16 1 13.987 1 7.994 1 2.034 4.482 0 8.044 0 9.69 0 13.55.243 15 5.036l-1.36.353C12.516 1.974 10.163 1.43 8.006 1.43c-3.565 0-5.582 2.171-5.582 6.79 0 4.143 2.254 6.343 5.63 6.343 2.777 0 4.847-1.443 4.847-3.556 0-1.438-1.208-2.127-1.27-2.127-.236 1.234-.868 3.31-3.644 3.31-1.618 0-3.013-1.118-3.013-2.582 0-2.09 1.984-2.847 3.55-2.847.586 0 1.294.04 1.663.114 0-.637-.54-1.728-1.9-1.728-1.25 0-1.566.405-1.967.868ZM8.716 8.19c-2.04 0-2.304.87-2.304 1.416 0 .878 1.043 1.168 1.6 1.168 1.02 0 2.067-.282 2.232-2.423a6.2 6.2 0 0 0-1.528-.161"/> </svg>';
                    echo '</div>';
                    break;

                case "instagram":
    
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link'>";
                    echo '<div>';
                echo '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-instagram" viewBox="0 0 16 16"> <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"/> </svg>';
                    echo '</div>';
                    break;
                case "line":
                    
                    echo "<a href='http://line.me/ti/p/~". $row['social_url'] ."' target='_blank' class='icon-link' >";
                    echo '<div>';
                    echo '<svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11.6494 22.9609C17.7245 22.9609 22.6494 18.0361 22.6494 11.9609C22.6494 5.88582 17.7245 0.960938 11.6494 0.960938C5.57429 0.960938 0.649414 5.88582 0.649414 11.9609C0.649414 18.0361 5.57429 22.9609 11.6494 22.9609ZM11.6475 5.56712C15.2742 5.56712 18.2336 7.83978 18.3975 10.6922C18.4087 10.867 18.4109 11.0423 18.404 11.2174C18.3944 11.3546 18.3766 11.4911 18.3507 11.6262C18.2659 12.1462 18.091 12.6473 17.834 13.1071C17.713 13.3254 17.1204 14.156 16.9386 14.3747C15.9397 15.5782 14.2666 16.9672 11.469 18.3172C11.4098 18.346 11.3439 18.3583 11.2783 18.353C11.2127 18.3476 11.1497 18.3248 11.0959 18.2869C11.0421 18.2489 10.9995 18.1973 10.9724 18.1373C10.9453 18.0773 10.9349 18.0111 10.942 17.9457L11.083 16.6768C11.0884 16.6287 11.0842 16.58 11.0708 16.5336C11.0573 16.4871 11.0348 16.4437 11.0045 16.406C10.9742 16.3682 10.9367 16.3369 10.8943 16.3136C10.8518 16.2904 10.8052 16.2758 10.7571 16.2707C7.44567 15.9241 4.88994 13.6706 4.88994 10.9421C4.89014 7.97351 7.91555 5.56712 11.6475 5.56712Z" fill="currentColor"/>
  <path d="M7.54493 12.4787H8.92755C9.01921 12.4787 9.10712 12.4422 9.17193 12.3774C9.23674 12.3126 9.27315 12.2247 9.27315 12.1331C9.27315 12.0414 9.23674 11.9535 9.17193 11.8887C9.10712 11.8239 9.01921 11.7874 8.92755 11.7874H7.89043V9.52334C7.89043 9.43168 7.85402 9.34377 7.7892 9.27896C7.72439 9.21415 7.63648 9.17773 7.54482 9.17773C7.45316 9.17773 7.36526 9.21415 7.30044 9.27896C7.23563 9.34377 7.19922 9.43168 7.19922 9.52334V12.1329C7.19922 12.2246 7.23564 12.3126 7.30047 12.3774C7.36531 12.4422 7.45324 12.4787 7.54493 12.4787Z" fill="currentColor"/>
  <path d="M11.1569 12.4786C11.2486 12.4786 11.3365 12.4421 11.4013 12.3773C11.4662 12.3125 11.5026 12.2245 11.5026 12.1329V10.5482C11.5026 10.5482 12.904 12.3645 12.9249 12.3841C12.988 12.4442 13.0716 12.478 13.1587 12.4785C13.2524 12.4761 13.3414 12.4371 13.4066 12.3698C13.4718 12.3025 13.5081 12.2123 13.5076 12.1186V9.52325C13.5065 9.43229 13.4696 9.34542 13.4049 9.28149C13.3401 9.21755 13.2528 9.1817 13.1619 9.1817C13.0709 9.1817 12.9836 9.21755 12.9189 9.28149C12.8542 9.34542 12.8172 9.43229 12.8161 9.52325V11.1175C12.8161 11.1175 11.4357 9.31696 11.4147 9.29333C11.3808 9.25525 11.3389 9.22516 11.2921 9.20522C11.2452 9.18528 11.1944 9.17598 11.1435 9.17801C11.0526 9.1838 10.9674 9.22437 10.9055 9.29129C10.8437 9.35821 10.8099 9.44636 10.8113 9.53748V12.1329C10.8113 12.2245 10.8477 12.3124 10.9125 12.3773C10.9773 12.4421 11.0652 12.4785 11.1569 12.4786Z" fill="currentColor"/>
  <path d="M9.87165 12.4788H10.0228C10.0583 12.4787 10.0934 12.4717 10.1262 12.4582C10.1589 12.4446 10.1887 12.4246 10.2138 12.3995C10.2389 12.3744 10.2588 12.3447 10.2723 12.3119C10.2859 12.2791 10.2928 12.2439 10.2928 12.2085V9.44782C10.2928 9.3762 10.2644 9.30751 10.2137 9.25686C10.1631 9.20621 10.0944 9.17775 10.0228 9.17773H9.87165C9.80002 9.17775 9.73133 9.20621 9.68068 9.25686C9.63004 9.3075 9.60158 9.3762 9.60156 9.44782V12.2085C9.60155 12.2439 9.60852 12.2791 9.62209 12.3119C9.63566 12.3447 9.65555 12.3744 9.68063 12.3995C9.70571 12.4246 9.73549 12.4446 9.76826 12.4582C9.80104 12.4717 9.83617 12.4787 9.87165 12.4788Z" fill="currentColor"/>
  <path d="M14.3714 12.4786H15.7541C15.8458 12.4786 15.9337 12.4421 15.9985 12.3773C16.0633 12.3125 16.0997 12.2246 16.0997 12.1329C16.0997 12.0413 16.0633 11.9534 15.9985 11.8886C15.9337 11.8238 15.8458 11.7873 15.7541 11.7873H14.717V11.1737H15.754C15.845 11.1726 15.9318 11.1357 15.9958 11.071C16.0597 11.0063 16.0956 10.919 16.0956 10.828C16.0956 10.737 16.0597 10.6497 15.9958 10.585C15.9318 10.5203 15.845 10.4834 15.754 10.4823H14.717V9.86874H15.754C15.8456 9.86874 15.9335 9.83234 15.9983 9.76754C16.0631 9.70275 16.0995 9.61487 16.0995 9.52324C16.0995 9.4316 16.0631 9.34372 15.9983 9.27893C15.9335 9.21414 15.8456 9.17773 15.754 9.17773H14.3714C14.2798 9.17775 14.1919 9.21415 14.1271 9.27894C14.0623 9.34374 14.0259 9.43161 14.0259 9.52324V12.1328C14.0259 12.1782 14.0348 12.2232 14.0521 12.2651C14.0695 12.307 14.0949 12.3452 14.127 12.3773C14.1591 12.4094 14.1972 12.4348 14.2391 12.4522C14.2811 12.4696 14.326 12.4785 14.3714 12.4786Z" fill="currentColor"/>
</svg>';
                    echo '</div>';
                    break;
                case "youtube":
                    
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link '>";
                    echo '<div>';
                    echo '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-youtube" viewBox="0 0 16 16"> <path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"/> </svg>';
                    echo '</div>';
                    break;
                case "vimeo":
                    
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link'>";
                    echo '<div>';
                    echo seed_icon('s-vimeo');
                    echo '</div>';
                    break;
                case "pinterest":
                    
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link'>";
                    echo '<div>';
                    echo seed_icon('s-pinterest');
                    echo '</div>';
                    break;
                case "linkedin":
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link'>";
                    echo '<div>';
                    echo '<svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_810_4087)">
                    <path d="M20.3283 19.9999V19.999H20.3333V12.664C20.3333 9.07569 19.5608 6.31152 15.3658 6.31152C13.3491 6.31152 11.9958 7.41819 11.4433 8.46736H11.385V6.64652H7.40747V19.999H11.5491V13.3874C11.5491 11.6465 11.8791 9.96319 14.035 9.96319C16.1591 9.96319 16.1908 11.9499 16.1908 13.499V19.9999H20.3283Z" fill="currentColor"/>
                    <path d="M0.6633 6.64746H4.80997V20H0.6633V6.64746Z" fill="currentColor"/>
                    <path d="M2.73498 0C1.40915 0 0.333313 1.07583 0.333313 2.40167C0.333313 3.7275 1.40915 4.82583 2.73498 4.82583C4.06081 4.82583 5.13665 3.7275 5.13665 2.40167C5.13581 1.07583 4.05998 0 2.73498 0V0Z" fill="currentColor"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_810_4087">
                    <rect width="20" height="20" fill="currentColor" transform="translate(0.333313)"/>
                    </clipPath></defs></svg>';
                    echo '</div>';
                    break;
                case "messenger":
                    echo "<a href='http://m.me/". $row['social_url'] ."' target='_blank' class='icon-link'>";
                    echo '<div>';
                    echo seed_icon('s-messenger');
                    echo '</div>';
                    break;
                case "mail":
                    echo "<a href='mailto:". $row['social_url'] ."' target='_blank' class='icon-link'>";
                    echo '<div>';
                    echo '<img src="' . esc_url( get_template_directory_uri() ) . '/img/mail.png" />';
                    echo '</div>';
                    break;
                case "podcast":
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link '>";
                    echo '<div>';
                    echo seed_icon('mic');
                    echo '</div>';
                    break;
                case "tiktok":
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link '>";
                    echo '<div>';
                    echo '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tiktok" viewBox="0 0 16 16"> <path d="M9 0h1.98c.144.715.54 1.617 1.235 2.512C12.895 3.389 13.797 4 15 4v2c-1.753 0-3.07-.814-4-1.829V11a5 5 0 1 1-5-5v2a3 3 0 1 0 3 3z"/> </svg>';
                    echo '</div>';
                    break;
                default:
                    echo "<a href='//". $row['social_url'] ."' target='_blank' class='icon-link'>";
                    echo '<div>';
                    echo seed_icon('globe');
                    echo '</div>';
            }
            echo "</a>";
        } 
    }
?>
</div>
<?php endif; ?>

